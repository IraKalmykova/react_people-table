(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{14:function(e,t,n){e.exports=n(22)},22:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(13),s=n.n(o),l=n(11),c=n(9),i=n(6),u=n.n(i),m=n(10),d=n(1),p=n(2),h=n(4),b=n(3),f=n(5),y=n(7),v=(n(8),n(21)),E=function(e){var t,n=e.person,a=e.selectedPerson,o=e.markByClick,s=v((t={person:n,"person--male":"m"===n.sex,"person--female":"f"===n.sex,"person--lived-more-than-65-years":n.age>65,"person--father":"m"===n.sex&&n.children,"person--mother":"f"===n.sex&&n.children},Object(y.a)(t,"person--lived-in-".concat(n.century),!0),Object(y.a)(t,"person--selected",a===n.id),t)),l=v({"person--born-before-1650":n.born<1650,"person--died-after-1800":n.died>1800});return r.a.createElement("tr",{className:s,onClick:function(){return o(n.id)}},r.a.createElement("td",null,n.id),r.a.createElement("td",{className:l},n.name),r.a.createElement("td",null,n.sex),r.a.createElement("td",null,n.born),r.a.createElement("td",null,n.died),r.a.createElement("td",null,n.age),r.a.createElement("td",null,n.century),r.a.createElement("td",null,n.mother),r.a.createElement("td",null,n.father),r.a.createElement("td",null,n.children))};E.defaultProps={selectedPerson:null,markByClick:function(){}};var w=E,g=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).columnNames=["id","name","sex","born","died","age","century","father","mother","children"],n.state={selectedPerson:null},n.markByClick=function(e){n.setState({selectedPerson:e})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.props.people,n=this.state.selectedPerson;return r.a.createElement("table",{className:"PeopleTable"},r.a.createElement("thead",null,r.a.createElement("tr",{className:"thead"},this.columnNames.map(function(e){return r.a.createElement("th",{key:e},e)}))),r.a.createElement("tbody",null,t.map(function(t){return r.a.createElement(w,{key:t.id,person:t,selectedPerson:n,markByClick:e.markByClick})})))}}]),t}(r.a.Component),N=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={name:"",sex:"f",born:null,died:null,father:"",mother:"",errorMessageByName:"",errorMessageByDate:""},n.addName=function(e){var t=e.target.value;/\d|\W/.test(t)?n.setState({errorMessageByName:"Incorrect name. Name must contain only a-z/A-Z. "}):n.setState({errorMessageByName:"",name:t})},n.addSex=function(e){n.setState({sex:e.target.value})},n.addBornDate=function(e){n.setState({born:e.target.value})},n.addDiedDate=function(e){var t=e.target.value;t-n.state.born<0||t-n.state.born>150?n.setState({errorMessageByDate:"Incorrect born and/or died."}):n.setState({died:t,errorMessageByDate:""})},n.addFather=function(e){n.setState({father:e.target.value})},n.addMother=function(e){n.setState({mother:e.target.value})},n.handleSubmit=function(e){e.preventDefault(),n.props.onSubmit(n.state)},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props.closeForm,t=this.state,n=t.errorMessageByName,a=t.errorMessageByDate;return r.a.createElement("div",{className:"shown-form"},r.a.createElement("form",{className:"form-wrap",onSubmit:this.handleSubmit},r.a.createElement("input",{id:"new-person-name",type:"text",placeholder:"Enter name",className:"input",required:"true",onChange:this.addName}),r.a.createElement("span",null,n),r.a.createElement("label",{htmlFor:"new-person-sex__man",className:"radio-btn"},r.a.createElement("input",{id:"new-person-sex__man",type:"radio",value:"m",name:"sex",onChange:this.addSex}),"Man"),r.a.createElement("label",{htmlFor:"new-person-sex__woman",className:"radio-btn"},r.a.createElement("input",{id:"new-person-sex__woman",type:"radio",value:"f",name:"sex",onChange:this.addSex}),"Woman"),r.a.createElement("input",{id:"new-person-born",type:"text",placeholder:"Enter the year of born",className:"input",required:"true",onChange:this.addBornDate}),r.a.createElement("input",{id:"new-person-died",type:"text",placeholder:"Enter the year of death",className:"input",required:"true",onChange:this.addDiedDate}),r.a.createElement("span",null,a),r.a.createElement("input",{id:"new-person-father",type:"text",placeholder:"Enter father's name",className:"input",required:"true",onChange:this.addFather}),r.a.createElement("input",{id:"new-person-mother",type:"text",placeholder:"Enter mother's name",className:"input",required:"true",onChange:this.addMother}),r.a.createElement("button",{type:"submit",className:"btn-add",disabled:!(!n&&!a)},"Add"),r.a.createElement("button",{type:"submit",className:"btn-close",onClick:e},"Close")))}}]),t}(r.a.Component);N.defaultProps={closeForm:function(){}};var x=N,C=function(){var e=Object(m.a)(u.a.mark(function e(){var t,n;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mate-academy.github.io/react_people-table/api",e.next=3,fetch("".concat("https://mate-academy.github.io/react_people-table/api","/people.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.map(function(e,t){return Object(c.a)({},e,{age:e.died-e.born,century:Math.ceil(e.died/100),id:t+1,fatherData:n.filter(function(t){return e.father===t.name}),motherData:n.filter(function(t){return e.mother===t.name}),children:n.filter(function(t){return e.name===t.mother||e.name===t.father}).map(function(e){return e.name}).join(", ")})}));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S=function(e){function t(){var e,n;Object(d.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(b.a)(t)).call.apply(e,[this].concat(r)))).state={people:[],visiblePeople:[],value:"",shownForm:!1},n.componentDidMount=Object(m.a)(u.a.mark(function e(){var t;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C();case 2:t=e.sent,n.setState({people:t,visiblePeople:t});case 4:case"end":return e.stop()}},e)})),n.filterBy=function(e){var t=e.target.value.toLowerCase();n.setState(function(e){return{visiblePeople:e.people.filter(function(e){return e.name.toLowerCase().includes(t)||e.father&&e.father.toLowerCase().includes(t)||e.mother&&e.mother.toLowerCase().includes(t)})}}),n.setState({value:e.target.value})},n.sortBy=function(e){"name"===e?n.setState(function(t){return{visiblePeople:t.visiblePeople.sort(function(t,n){return t[e].localeCompare(n[e])})}}):n.setState(function(t){return{visiblePeople:t.visiblePeople.sort(function(t,n){return t[e]-n[e]})}})},n.showForm=function(){n.setState({shownForm:!0})},n.closeForm=function(e){e.preventDefault(),n.setState({shownForm:!1})},n.addNewPerson=function(e){e=Object(c.a)({},e,{age:e.died-e.born,century:Math.ceil(e.died/100),id:n.state.visiblePeople.length+1}),n.setState(function(t){return{visiblePeople:[].concat(Object(l.a)(t.visiblePeople),[e]),people:[].concat(Object(l.a)(t.visiblePeople),[e]),shownForm:!1}})},n}return Object(f.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.shownForm,a=t.people,o=t.value,s=t.visiblePeople,l=t.markedAPersonRow;return r.a.createElement("div",{className:"App"},r.a.createElement("button",{type:"submit",className:"btn-new-person",onClick:this.showForm},"Add a new person"),n&&r.a.createElement(x,{onSubmit:this.addNewPerson,closeForm:this.closeForm}),r.a.createElement("h1",null,"People table\xa0 (",a.length,"\xa0people)"),r.a.createElement("label",{htmlFor:"filter",className:"person--filter"},"Filter by\xa0",r.a.createElement("input",{id:"filter",type:"text",placeholder:"enter text",value:o,onChange:this.filterBy})),r.a.createElement("div",{className:"button-list"},r.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("id")}},"Sort by ID"),r.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("name")}},"Sort by NAME"),r.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("born")}},"Sort by BORN"),r.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("died")}},"Sort by DIED"),r.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("age")}},"Sort by AGE")),r.a.createElement(g,{people:s,markedAPersonRow:l}))}}]),t}(r.a.Component);s.a.render(r.a.createElement(S,{test:123}),document.getElementById("root"))},8:function(e,t,n){}},[[14,1,2]]]);
//# sourceMappingURL=main.09ffb1de.chunk.js.map