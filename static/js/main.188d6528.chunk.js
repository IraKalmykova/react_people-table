(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(21)},21:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(11),l=n.n(o),s=n(1),c=n.n(s),i=n(4),m=n(5),u=n(6),p=n(8),d=n(7),h=n(9),b=n(2),f=(n(3),n(20)),w=function(e){var t,n=e.person,r=e.selectedPerson,o=e.markByClick,l=f((t={person:n,"person--male":"m"===n.sex,"person--female":"f"===n.sex,"person--lived-more-than-65-years":n.age>65,"person--father":"m"===n.sex&&n.children,"person--mother":"f"===n.sex&&n.children},Object(b.a)(t,"person--lived-in-".concat(n.century),!0),Object(b.a)(t,"person--selected",r===n.id),t)),s=f({"person--born-before-1650":n.born<1650,"person--died-after-1800":n.died>1800});return a.a.createElement("tr",{className:l,onClick:function(){return o(n.id)}},a.a.createElement("td",null,n.id),a.a.createElement("td",{className:s},n.name),a.a.createElement("td",null,n.sex),a.a.createElement("td",null,n.born),a.a.createElement("td",null,n.died),a.a.createElement("td",null,n.age),a.a.createElement("td",null,n.century),a.a.createElement("td",null,n.mother),a.a.createElement("td",null,n.father),a.a.createElement("td",null,n.children))};w.defaultProps={selectedPerson:null,markByClick:function(){}};var y=w,E=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).columnNames=["id","name","sex","born","died","age","century","father","mother","children"],n.state={selectedPerson:null},n.markByClick=function(e){n.setState({selectedPerson:e})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.people,n=this.state.selectedPerson;return a.a.createElement("table",{className:"PeopleTable"},a.a.createElement("thead",null,a.a.createElement("tr",{className:"thead"},this.columnNames.map(function(e){return a.a.createElement("th",{key:e},e)}))),a.a.createElement("tbody",null,t.map(function(t){return a.a.createElement(y,{key:t.id,person:t,selectedPerson:n,markByClick:e.markByClick})})))}}]),t}(a.a.Component),v=function(e){var t=e.showFormAddNewPerson,n=e.addNewPerson,r=e.closeForm;return a.a.createElement("div",{className:t?"shown-form":"hidden-form"},a.a.createElement("form",{className:"form-wrap"},a.a.createElement("label",{htmlFor:"new-person-name"},a.a.createElement("input",{id:"new-person-name",type:"text",placeholder:"enter name",className:"input",required:"true"})),a.a.createElement("label",{htmlFor:"new-person-sex__man",className:"radio-btn"},a.a.createElement("input",{id:"new-person-sex__man",type:"radio",value:"m",name:"sex"}),"Man"),a.a.createElement("label",{htmlFor:"new-person-sex__woman",className:"radio-btn"},a.a.createElement("input",{id:"new-person-sex__woman",type:"radio",value:"f",name:"sex"}),"Woman"),a.a.createElement("label",{htmlFor:"new-person-born"},a.a.createElement("input",{id:"new-person-born",type:"text",placeholder:"enter born date",className:"input",required:"true"})),a.a.createElement("label",{htmlFor:"new-person-died"},a.a.createElement("input",{id:"new-person-died",type:"text",placeholder:"enter died date",className:"input",required:"true"})),a.a.createElement("label",{htmlFor:"new-person-father"},a.a.createElement("input",{id:"new-person-father",type:"text",placeholder:"enter father's name",className:"input",required:"true"})),a.a.createElement("label",{htmlFor:"new-person-mother"},a.a.createElement("input",{id:"new-person-mother",type:"text",placeholder:"enter mother's name",className:"input",required:"true"})),a.a.createElement("button",{type:"submit",className:"btn-add",onClick:n},"Add"),a.a.createElement("button",{type:"submit",className:"btn-close",onClick:r},"Close")))};v.defaultProps={showFormAddNewPerson:!1,addNewPerson:function(){},closeForm:function(){}};var N=v,P=n(12),k=function(){var e=Object(i.a)(c.a.mark(function e(){var t,n;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"https://mate-academy.github.io/react_people-table/api",e.next=3,fetch("".concat("https://mate-academy.github.io/react_people-table/api","/people.json"));case 3:return t=e.sent,e.next=6,t.json();case 6:return n=e.sent,e.abrupt("return",n.map(function(e,t){return Object(P.a)({},e,{age:e.died-e.born,century:Math.ceil(e.died/100),id:t+1,fatherData:n.filter(function(t){return e.father===t.name}),motherData:n.filter(function(t){return e.mother===t.name}),children:n.filter(function(t){return e.name===t.mother||e.name===t.father}).map(function(e){return e.name}).join(", ")})}));case 8:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),x=function(e){function t(){var e,n;Object(m.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(p.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(a)))).state={people:[],visiblePeople:[],value:"",showFormAddNewPerson:!1},n.componentDidMount=Object(i.a)(c.a.mark(function e(){var t;return c.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:t=e.sent,n.setState({people:t,visiblePeople:t});case 4:case"end":return e.stop()}},e)})),n.filterBy=function(e){var t=e.target.value.toLowerCase();n.setState(function(e){return{visiblePeople:e.people.filter(function(e){return e.name.toLowerCase().includes(t)||e.father&&e.father.toLowerCase().includes(t)||e.mother&&e.mother.toLowerCase().includes(t)})}}),n.setState({value:e.target.value})},n.sortBy=function(e){"name"===e?n.setState(function(t){return{visiblePeople:t.visiblePeople.sort(function(t,n){return t[e].localeCompare(n[e])})}}):n.setState(function(t){return{visiblePeople:t.visiblePeople.sort(function(t,n){return t[e]-n[e]})}})},n.showForm=function(){n.setState({showFormAddNewPerson:!0})},n.closeForm=function(e){e.preventDefault(),n.setState({showFormAddNewPerson:!1})},n}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.showFormAddNewPerson,r=t.people,o=t.value,l=t.visiblePeople,s=t.markedAPersonRow;return a.a.createElement("div",{className:"App"},a.a.createElement("button",{type:"submit",className:"btn-new-person",onClick:this.showForm},"Add a new person"),n&&a.a.createElement(N,{showFormAddNewPerson:n,addNewPerson:this.addNewPerson,closeForm:this.closeForm}),a.a.createElement("h1",null,"People table\xa0 (",r.length,"\xa0people)"),a.a.createElement("label",{htmlFor:"filter",className:"person--filter"},"Filter by\xa0",a.a.createElement("input",{id:"filter",type:"text",placeholder:"enter text",value:o,onChange:this.filterBy})),a.a.createElement("div",{className:"button-list"},a.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("id")}},"Sort by ID"),a.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("name")}},"Sort by NAME"),a.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("born")}},"Sort by BORN"),a.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("died")}},"Sort by DIED"),a.a.createElement("button",{type:"submit",className:"button-sort",onClick:function(){return e.sortBy("age")}},"Sort by AGE")),a.a.createElement(E,{people:l,markedAPersonRow:s}))}}]),t}(a.a.Component);l.a.render(a.a.createElement(x,{test:123}),document.getElementById("root"))},3:function(e,t,n){}},[[13,1,2]]]);
//# sourceMappingURL=main.188d6528.chunk.js.map